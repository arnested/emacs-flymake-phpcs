#!/bin/bash
#
#  Wrapper around phpcs for Emacs flymake since flymake dislikes phpcs' exit code.

FILE_NAME="$1"
shift

# Run with --report=emacs so we can use this for compile-mode too.
phpcs --report=emacs "$FILE_NAME" $*

# Run php -l too for good measure.
php -l -f "$FILE_NAME"

exit 0